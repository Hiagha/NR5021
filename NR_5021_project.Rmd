---
title: "NR_5021_project"
authors: "Husain Agha, James Ostlie, Clare Gietzel, Hannah Legatzke"
date: "10/3/2018"
output: html_document
---

#Better Know an R Package
##R/Cowplot
Cowplot is a package developed to work in tandem with R/ggplot2. From the cowplot cran page, "The cowplot package is a simple add-on to ggplot2. It is meant to provide a publication-ready theme for ggplot2, one that requires a minimum amount of fiddling with sizes of axis labels, plot backgrounds, etc."


```{r library, message = FALSE}
library(ggplot2,cowplot, tidyverse)
```

###Load in the data
We are using a data set that is within ggplot2 as well as a dataset collected from class responses.

```{r data}
animal <- msleep

weight <- c(74,63,112,70,55,50,75,59,93,88.64,54.4,84,68.18,130,100,79.54,77,52,79.5,68.2,57.72)

sleep<- c(6,6,6,6.5,6.5,7,7,7,7,7,7,7,7,7,7.25,7.5,7.5,8,8,8,9)

class_sleep <- data.frame(weight,sleep)

class_sleep_summary<- summarize(class_sleep,
                                mean.sleep = mean(sleep),
                                mean.weight = mean(weight))
class_sleep_summary

## Now we will add our class data to the msleep dataset. 
name<- "Class"
class.sleep<- cbind(class_sleep_summary,name)

class.sleep<- data.frame(class.sleep$name,class.sleep$mean.sleep,class.sleep$mean.weight)
names(class.sleep) <- c("msleep.name", "msleep.sleep_total", "msleep.bodywt")
new.msleep <- data.frame(msleep$name, msleep$sleep_total, msleep$bodywt)

new.msleep.class<- rbind(new.msleep, class.sleep)

msleep.hist <- ggplot(new.msleep.class, aes(x=msleep.sleep_total)) + geom_histogram(binwidth=1)
msleep.hist
```

##ggplot2
First we will make several different plots using solely ggplot2 functions

```{r ggplot}

p <- ggplot(animal, aes(x = order, y = sleep_total)) + theme(axis.text.x = element_text(face = "italic", angle = 90, vjust = 0.5)) + geom_point() + aes(colour = log(bodywt))
p 
sleep.plot<-ggplot(msleep, aes(x=msleep$sleep_total, y=msleep$bodywt,colour=order))+geom_point()+labs(x="Mean sleep (hours)", y= "Mean body weight (kg)")
sleep.plot

```
## The cowplot difference
Notice that in cowplot, the default gray background and grid lines present in ggplot2 are missing. This same design can also be achieved in ggplot using "+ theme_classic"

One unique feature of cowplot is the capacity to add images to your plots. For instance, we can add an image of an elephant to the background. To include this feature, we must first download the package "magick." You can change the size of the background image using "scale="
```{r}
#install.packages("magick")
#library(magick)
#library(ggplot2)
#library(cowplot)
#elephant.background<-ggdraw()+draw_image("C://Users/Hannah/Desktop/R/elephant.png",scale=0.8)+draw_plot(sleep.plot)
#elephant.background
```

Another feature of cowplot is the ability to add a figure label using the "draw_figure-label()" function.

````{r}  
#p1<-ggdraw(p) + draw_figure_label(label = "Figure 1", position = "bottom.right", size = 10)

p <- ggplot(animal, aes(x = order, y = sleep_total)) + theme(axis.text.x = element_text(face = "italic", angle = 90, vjust = 0.5)) + geom_point() + aes(colour = log(bodywt)) 
ggdraw(p) + draw_label("Draft", colour = "grey", size = 120, angle = 45)

```

